---
- name: install vim
  apt:
    name: vim
    state: present
  become: true

- name: install vim-gtk3 for clipboard support
  apt:
    name: vim-gtk3
    state: present
  become: true

- name: create a simlink for configs
  file:
    src: "{{ role_path }}/files/.vimrc"
    dest: ~/.vimrc
    state: link

- name: create a simlink for spell check dictionary
  file:
    src: "{{ role_path }}/files/.vim/spell/en.utf-8.add"
    dest: ~/.vim/spell/en.utf-8.add
    state: link

- name: create vim undo directory
  file:
    path: ~/.config/vim/tmp/undo
    state: directory
    mode: '0755'

- name: install plugins
  include_tasks: plugins.yml

